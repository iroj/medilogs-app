<ion-navbar *navbar hideBackButton='false'>
    <ion-title>MediLogs</ion-title>
</ion-navbar>
<ion-content padding class="login">
    <ion-segment [(ngModel)]="authType">
        <ion-segment-button value="login">
            Login
        </ion-segment-button>
        <ion-segment-button value="signup">
            Signup
        </ion-segment-button>
    </ion-segment>
    <div [ngSwitch]="authType">
        <form *ngSwitchWhen="'login'" #loginCreds="ngForm" (ngSubmit)="login(loginCreds.value)">
            <ion-item>
                <ion-label floating>Username</ion-label>
                <ion-input type="text" ngControl="userName"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label floating>Password</ion-label>
                <ion-input type="password" ngControl="password"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked> Stay Logged In</ion-label>
                <ion-toggle checked="true" ngControl="stayConnected" value='stayConnected'></ion-toggle>
            </ion-item>
            <div padding>
                <button block type="submit">Login</button>
            </div>
        </form>
        <form *ngSwitchWhen="'signup'" #signupCreds="ngForm" (ngSubmit)="signup(signupCreds.value)">
            <ion-item>
                <ion-label stacked>Full Name</ion-label>
                <ion-input type="text" ngControl="fullName"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked>Username</ion-label>
                <ion-input type="text" ngControl="userName"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked>Password</ion-label>
                <ion-input type="password" ngControl="password"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label stacked>E-mail Address</ion-label>
                <ion-input type="email" ngControl="email"></ion-input>
            </ion-item>
            <ion-item (click)='faculty=!faculty'>
                <ion-label stacked> Student (Slide if faculty)
                </ion-label>
                    <ion-toggle ngControl="faculty" value='faculty'></ion-toggle>
            </ion-item>
            <ion-item>
                <ion-label stacked> Stay Logged In</ion-label>
                <ion-toggle ngControl="stayConnected" value='stayConnected'></ion-toggle>
            </ion-item>
            <div padding>
                <button block type="submit">Signup</button>
            </div>
        </form>
    </div>
    <div padding>
        <p *ngIf="error" class="error">{{ error._body }}</p>
    </div>
</ion-content>
